<!DOCTYPE html>
<html>
  <head>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
    <meta content="utf-8" http-equiv="encoding">
    <title>Alq</title>
    <link href="css/styles.css" rel="stylesheet" type="text/css">
  </head>
  <body>
      
    <b id="p1"></b> <br>
    <p id="p2"></p> 
    <p id="p3"></p>


    <button onclick="next()">Next</button>

    <form action="index.html" method="get">
      <input type="submit" value="Back" 
           name="Submit" id="frm1_submit" />
  </form>

    <script>
        var qs = parent.document.URL

        var n = parseInt(qs.split('?')[1])
        document.getElementById("p1").innerHTML = "The proper factors of " + n + " are:"

        f = propFactor(n)
        s = ""
        f.forEach(e => s = s + " " + e + "")
        document.getElementById("p2").innerHTML = s

        sum = f.reduce((a,b) => a+b, 0)
        document.getElementById("p3").innerHTML = "The sum of those factors is: "+ sum

        
        function propFactor(n){
            let max = n/2
            let factors = [1] 
            for(i = 2; i <= max; i++){
                if(n % i == 0){
                    factors.push(i)
                }
            }
           
        return factors
        }

        function next(){
            
            location.assign("factors.html?"+sum ); 
        }
        
    </script>
  </body>
</html>